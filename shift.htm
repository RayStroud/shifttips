<!DOCTYPE html>
<html lang="en" ng-app="shiftTips">
<head>
	<title>View Shift - Shift Tips</title>
	<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
	<link rel="stylesheet" href="css/style.css">

    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.4.1/angular.min.js"></script>
    <script src="js/moment.min.js"></script>
    <script src="js/app.js"></script>
</head>
<body>
	<div id="header">
		<div class="name"><a href=".">Shift Tips</a></div>
		<ul class="menu">
			<li><a class="link-button" href="shifts.php">Shifts</a></li>
			<li><a class="link-button" href="summary.php">Summary</a></li>
			<li><a class="link-button" href="add.php">Add</a></li>
		</ul>
	</div>
	<div id="content">
		<div id="wrapper">
			<div ng-controller="ShiftController as shiftCtrl">
				<h1>Shift Details</h1>
				<div class="shift-detailed {{shiftCtrl.shift.dayOfWeek | lowercase}}-shift {{shiftCtrl.shift.lunchDinner | lowercase}}-shift">
					<div class="shift-datetime">
						<div class="shift-date">{{shiftCtrl.shift.date | date:'EEE, MMM d, yyyy'}}</div>
						<div class="shift-time">{{shiftCtrl.shift.startTime | timeToDate | date:'h:mma'}} to {{shiftCtrl.shift.endTime | timeToDate | date:'h:mma'}} <div class="shift-hours-wage">({{shiftCtrl.shift.hours}}) @ {{shiftCtrl.shift.wage | currency}}/h</div></div>
					</div>
					<div class="shift-details">
						<div class="shift-info">
							<div class="label">1st Tbl</div>
							<div class="value">{{shiftCtrl.shift.firstTable | timeToDate | date:'h:mma'}}</div>
						</div>
						<div class="shift-info">
							<div class="label">Camp</div>
							<div class="value">{{shiftCtrl.shift.campHours}} hours</div>
						</div>

						<div class="shift-info">
							<div class="label">Sales</div>
							<div class="value">{{shiftCtrl.shift.sales | currency}}</div>
						</div>
						<div class="shift-info">
							<div class="label">Covers</div>
							<div class="value">{{shiftCtrl.shift.covers}}</div>
						</div>

						<div class="shift-info">
							<div class="label">Tipout</div>
							<div class="value">{{shiftCtrl.shift.tipout | currency:undefined:0}}</div>
						</div>
						<div class="shift-info">
							<div class="label">Transfer</div>
							<div class="value">{{shiftCtrl.shift.transfers | currency:undefined:0}}</div>
						</div>

						<div class="shift-info">
							<div class="label">Cash</div>
							<div class="value">{{shiftCtrl.shift.cash | currency:undefined:0}}</div>
						</div>
						<div class="shift-info">
							<div class="label">Due</div>
							<div class="value">{{shiftCtrl.shift.due | currency:undefined:0}}</div>
						</div>

						<div class="shift-info">
							<div class="label">Section</div>
							<div class="value">{{shiftCtrl.shift.section}}</div>
						</div>
						<div class="shift-info">
							<div class="label">Cut</div>
							<div class="value">{{shiftCtrl.shift.cut}}</div>
						</div>

						<div class="shift-info full-width">
							<div class="label">Notes</div>
							<div class="value">{{shiftCtrl.shift.notes}}</div>
						</div>

						<hr>

						<div class="shift-info">
							<div class="label">Wage</div>
							<div class="value">{{shiftCtrl.shift.earnedWage | currency:undefined:0}}</div>
						</div>
						<div class="shift-info">
							<div class="label">Tips</div>
							<div class="value">{{shiftCtrl.shift.earnedTips | currency:undefined:0}}</div>
						</div>

						<div class="shift-info">
							<div class="label">Total</div>
							<div class="value">{{shiftCtrl.shift.earnedTotal | currency:undefined:0}}</div>
						</div>
						<div class="shift-info">
							<div class="label">%TvW</div>
							<div class="value">{{shiftCtrl.shift.tipsVsWage}}%</div>
						</div>

						<div class="shift-info">
							<div class="label">Sale/h</div>
							<div class="value">{{shiftCtrl.shift.salesPerHour | currency}}/h</div>
						</div>
						<div class="shift-info">
							<div class="label">Sale/cov</div>
							<div class="value">{{shiftCtrl.shift.salesPerCover | currency}}/h</div>
						</div>

						<div class="shift-info">
							<div class="label">%Tips</div>
							<div class="value">{{shiftCtrl.shift.tipsPercent}}%</div>
						</div>
						<div class="shift-info">
							<div class="label">%Tipout</div>
							<div class="value">{{shiftCtrl.shift.tipoutPercent}}%</div>
						</div>

						<div class="shift-info">
							<div class="label">Earn/h</div>
							<div class="value">{{shiftCtrl.shift.earnedHourly | currency}}/h</div>
						</div>
					</div>
				</div>
				<div class="shift-buttons">
					<div class="form-group button-group half-width">
						<a class="link-button button-wide" href="edit.php?id={{shiftCtrl.shift.id}}">Edit</a>
					</div>
					<div class="form-group button-group half-width">
						<a class="link-button button-warning button-wide" href="delete.php?id={{shiftCtrl.shift.id}}" onclick="return confirm('Are you sure you want to delete this shift?')">Delete</a>
					</div>
				</div>
			</div>
		</div>
	</div>
	<div id="footer">
		<a class="debug" href="#" target="popup" onClick="wopen('#', 'popup', 320, 480); return false;">debug mobile popup</a>
	</div>
	<script>
		function wopen(url, name, w, h)
		{
			//Fudge factors for window decoration space.
			w += 32;
			h += 96;
			var win = window.open(url, name, 'width=' + w + ', height=' + h + ', ' +
				'location=no, menubar=no, ' + 'status=no, toolbar=no, scrollbars=yes, resizable=yes');
			win.resizeTo(w, h);
			win.focus();
		}
	</script>
</body>
</html>